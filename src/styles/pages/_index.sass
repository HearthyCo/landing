$how-image-top-position: 90px

#index
  #content-page
    #intro
      background-image: linear-gradient(to right,$secondary-color, $orange)
      width: 100%
      display: flex
      align-items: center
      overflow: hidden
      color: $white
      min-height: $mobile-height - $nav-height-mobile
      max-height: $desktop-width - $nav-height
      height: calc(100vh - 2 * (#{$nav-height}))
      position: relative
      z-index: 1
      +mobile
        max-height: $desktop-width - $nav-height-mobile
        height: calc(100vh - 2 * (#{$nav-height-mobile}))
      .bg-particles
        position: absolute
        top: 0
        bottom: 0
        right: 0
        left: 0
      #bg-particles1
        +bg-image(inherit, '/assets/images/particles/bg-particles1.png')
      #bg-particles2
        +bg-image(cover, '/assets/images/particles/bg-particles2.png')
      .particle
        position: absolute
      #particle-4
        left: 60%
        top: 10%
      #particle-3
        left: 40%
        top: 80%
      #particle-2
        left: 0%
        top: 30%
      #particle-1
        right: 0%
        bottom: 10%
        +mobile
          opacity: 0.25
      .split
        position: relative
      .item
        &.left
          flex-basis: 35%
          display: flex
          align-items: center
          +tablet
            flex-basis: 50%
        &.right
          flex-basis: 65%
          +tablet
            flex-basis: 50%
        .line
          animation: layers-appear 0.5s ease-in-out both
          animation-delay: 0.3s
        strong
          margin-right: 0.2em
          display: block
          +desktop
            display: inline
        p
          animation: layers-appear 0.5s ease-in-out both
          animation-delay: 0.6s
          padding-right: 20px
          line-height: 1.7em
          +mobile
            padding-right: 0
        button
          animation: layers-appear 0.5s ease-in-out both
          animation-delay: 0.9s
          margin-top: 20px
        #intro-layers
          display: block
          height: 100%
          .layer
            position: absolute
            right: 0
            img
              margin: 0 0 auto auto
              display: block
              +tablet
                margin-top: 10%
            +mobile
              display: none
            +tablet
              +size(70%)
          #layer-1
            animation: layers-appear 0.5s ease-in-out both
            animation-delay: 1.6s
          #layer-2
            animation: layers-appear 0.5s ease-in-out both
            animation-delay: 1.3s
          #layer-3
            animation: layers-appear 0.5s ease-in-out both
            animation-delay: 1s
    #featured
      position: relative
      z-index: 1
      background-color: $white
      .container
        height: $nav-height
        background-color: $white
        display: flex
        justify-content: space-between
        align-items: center
        +mobile
          height: $nav-height-mobile
      .logo
        flex: 1 1 auto
        height: 41px
        +mobile
          height: 30px
      #health20
        +bg-image(contain, '/assets/images/featured/health20.png')
      #launchpad
        +bg-image(contain, '/assets/images/featured/launchpad.png')
    #explanation
      min-height: 100vh
      background-color: $white
      #issues
        height: 100%
        position: relative
      .issue
        display: flex
        height: 110vh
        align-items: center
        +mobile
          height: auto
        .split
          &.ease-in
            .item.right
              opacity: 1
            #animation-1
              animation-name: playFirstAnimation
            #animation-2
              animation-name: playSecondAnimation
            #animation-3
              animation-name: playThirdAnimation
            #animation-4
              animation-name: playFourthAnimation
            #animation-5
              animation-name: playFifthAnimation
          &.ease-out
            .item.right
              opacity: 0
            #animation-1
              animation-name: playFirstAnimation
            #animation-2
              animation-name: playSecondAnimation
            #animation-3
              animation-name: playThirdAnimation
            #animation-4
              animation-name: playFourthAnimation
            #animation-5
              animation-name: playFifthAnimation
      .item.right
        position: fixed
        top: 0
        right: 0
        left: 55%
        bottom: 0
        display: flex
        justify-content: center
        flex-flow: column
        transition: all 0.2s ease-in-out
        opacity: 0
        +tablet
          left: auto
          width: 45%
        +mobile
          position: inherit
      .animation
        overflow: hidden
        background-repeat: no-repeat
        background-position: left center
        height: 650px
        animation-duration: 2s
        animation-timing-function: steps(31)
        animation-fill-mode: forwards
        +mobile
          display: none
      #animation-1
        background-image: url('/assets/images/animations/animation-1.png')
        width: 592px
        +tablet
          +bg-image(contain,'/assets/images/animations/illustration-1.png')
          animation: none
      #animation-2
        background-image: url('/assets/images/animations/animation-2.png')
        width: 591px
        +tablet
          +bg-image(contain,'/assets/images/animations/illustration-2.png')
          animation: none
      #animation-3
        background-image: url('/assets/images/animations/animation-3.png')
        width: 549px
        +tablet
          +bg-image(contain,'/assets/images/animations/illustration-3.png')
          animation: none
      #animation-4
        background-image: url('/assets/images/animations/animation-4.png')
        width: 388px
        +tablet
          +bg-image(contain,'/assets/images/animations/illustration-4.png')
          animation: none
      #animation-5
        background-image: url('/assets/images/animations/animation-5.png')
        width: 571px
        +tablet
          +bg-image(contain,'/assets/images/animations/illustration-5.png')
          animation: none
      #explanation-title
        display: inline-block
        .line
          +text-gradient(left, $secondary-color, $primary-color)
    #how
      background-image: linear-gradient(to right,$primary-color, $secondary-color)
      color: $white
      margin-top: $how-image-top-position
      padding: (2 * $how-image-top-position) 0
      position: relative
      z-index: 1
      +tablet
        margin-top: $how-image-top-position / 2
        padding: $how-image-top-position 0
      +mobile
        padding: 20px 0
        margin-top: 0
      #how-image
        top: 0
        margin-left: - $how-image-top-position / 2
        position: absolute
        height: 348px
        width: 413px
        background-image: url('/assets/images/how-animation.png')
        animation-duration: 2s
        animation-timing-function: steps(32)
        animation-iteration-count: infinite
        opacity: 0
        transition: all 0.5s ease-in-out
        &.play
          top: - $how-image-top-position
          animation-name: playHowAnimation
          opacity: 1
        +tablet
          width: 250px
          top: - $how-image-top-position / 2
          margin-left: 0
        +mobile
          display: none
      #how-title
        text-align: center
        margin: 100px 0
        +mobile
          margin: 20px 0
        span
          &:first-child
            color: tint($cyan, 75%)
          &:last-child
            color: $cyan
        strong
          color: tint($cyan, 40%)
      .item
        padding: 0 40px
        +mobile
          padding: 0
    #team
      position: relative
      background-color: $white
      #team-title
        +text-gradient(left, $secondary-color, $primary-color)
        display: inline-block
        margin: 80px 0
      .team-wrapper
        display: flex
        flex-wrap: wrap
        justify-content: space-around
        .member
          flex: 0 0 25%
          +mobile
            flex: 0 0 100%
    #contact
      background-image: linear-gradient(to right,$secondary-color, $orange)
      color: $white
      position: relative
      .melt
        height: 575px
        background-image: url('assets/images/bg-melt.png')
        margin-top: -1px
        +mobile
          height: 100px
          background-size: contain
      .container
        display: flex
        justify-content: center
        align-items: center
        padding: 50px 0 150px
        +tablet
          padding: 0px 0 100px
        +mobile
          padding: 50px 0
      .logo
        text-align: center
        margin: 50px 0
      .contact-links
        text-align: center
        a
          display: inline-block
          color: $white
          padding: 30px 20px
          +mobile
            width: 100%
          .text
            margin-top: 10px

@keyframes layers-appear
  from
    top: 300px
    opacity: 0
  to
    top: 0
    opacity: 1

@keyframes playFirstAnimation
  0%
    background-position: left center
  100%
    background-position: -18352px center

@keyframes playSecondAnimation
  0%
    background-position: left center
  100%
    background-position: -18330px center

@keyframes playThirdAnimation
  0%
    background-position: left center
  100%
    background-position: -17019px center

@keyframes playFourthAnimation
  0%
    background-position: left center
  100%
    background-position: -12028px center

@keyframes playFifthAnimation
  0%
    background-position: left center
  100%
    background-position: -17701px center

@keyframes playHowAnimation
  0%
    background-position: left center
  100%
    background-position: -13216px center
