$how-image-top-position: 90px

#index
  #content-page
    #intro
      background-image: linear-gradient(to right,$secondary-color, $orange)
      width: 100%
      display: flex
      align-items: center
      overflow: hidden
      color: $white
      min-height: $mobile-height - $nav-height-mobile
      max-height: $desktop-width - $nav-height
      height: calc(100vh - 2 * (#{$nav-height}))
      position: relative
      z-index: 1
      +mobile
        max-height: $desktop-width - $nav-height-mobile
        height: calc(100vh - 2 * (#{$nav-height-mobile}))
      .bg-particles
        position: absolute
        top: 0
        bottom: 0
        right: 0
        left: 0
      #bg-intro-particles1
        +bg-image(inherit, 'particles/bg-particles1.png')
      #bg-intro-particles2
        +bg-image(cover, 'particles/bg-particles2.png')
      .particle
        position: absolute
      #intro-particle-4
        left: 60%
        top: 10%
      #intro-particle-3
        left: 40%
        top: 80%
      #intro-particle-2
        left: 0%
        top: 30%
      #intro-particle-1
        right: 0%
        bottom: 10%
        +mobile
          opacity: 0.25
      .split
        position: relative
      .item
        &.left
          flex-basis: 35%
          display: flex
          align-items: center
          +tablet
            flex-basis: 50%
        &.right
          flex-basis: 65%
          +tablet
            flex-basis: 50%
        .line
          animation: layers-appear 0.5s ease-in-out both
          animation-delay: 0.3s
        strong
          margin-right: 0.2em
          display: block
          +desktop
            display: inline
        p
          animation: layers-appear 0.5s ease-in-out both
          animation-delay: 0.6s
          padding-right: 20px
          line-height: 1.7em
          +mobile
            padding-right: 0
        button
          animation: layers-appear 0.5s ease-in-out both
          animation-delay: 0.9s
          margin-top: 20px
        #intro-layers
          display: block
          height: 100%
          +tablet
            transform: scale(1)
          .layer
            position: absolute
            right: 0
            img
              margin: 0 0 auto auto
              display: block
              +tablet
                margin-top: 20%
            +mobile
              display: none
          #layer-1
            animation: layers-appear 0.5s ease-in-out both
            animation-delay: 1.6s
          #layer-2
            animation: layers-appear 0.5s ease-in-out both
            animation-delay: 1.3s
          #layer-3
            animation: layers-appear 0.5s ease-in-out both
            animation-delay: 1s
    #featured
      position: relative
      z-index: 1
      background-color: $white
      .container
        height: $nav-height
        background-color: $white
        display: flex
        justify-content: space-between
        align-items: center
        position: relative
        .featured
          position: absolute
          top: 5px
          right: 60%
          text-align: center
          left: 15px
          font-size: $font-size-s
          +mobile
            top: -20px
            color: $white
            font-weight: bold
        +mobile
          height: $nav-height-mobile
      .logo
        flex: 1 1 auto
        height: 41px
        flex: 0 0 50%
        +mobile
          height: 20px
      #health20
        +bg-image(contain, 'featured/health20.png')
        height: 35px
        +mobile
          height: 20px
      #launchpad
        +bg-image(contain, 'featured/launchpad.png')
    #explanation
      min-height: 100vh
      background-color: $white
      +mobile
        padding: 0px 0 40px
      #issues
        height: 100%
        position: relative
      .issue
        display: flex
        height: 100vh
        align-items: center
        +mobile
          height: auto
        .text
          +tablet
            padding-left: 20px
        .split
          position: relative
          .item.left
            z-index: 1
          &.ease-in
            .item.right
              opacity: 1
            #animation-1
              animation-name: playFirstAnimation
            #animation-2
              animation-name: playSecondAnimation
            #animation-3
              animation-name: playThirdAnimation
            #animation-4
              animation-name: playFourthAnimation
            #animation-5
              animation-name: playFifthAnimation
          &.ease-out
            .item.right
              opacity: 0
            #animation-1
              animation-name: playFirstAnimation
            #animation-2
              animation-name: playSecondAnimation
            #animation-3
              animation-name: playThirdAnimation
            #animation-4
              animation-name: playFourthAnimation
            #animation-5
              animation-name: playFifthAnimation
      .item.right
        position: fixed
        top: 0
        right: 0
        left: 55%
        bottom: 0
        display: flex
        justify-content: center
        flex-flow: column
        align-items: center
        transition: all 0.2s ease-in-out
        opacity: 0
        pointer-events: none
        +mobile
          position: absolute
          opacity: 1
          left: 0
          z-index: 0
      .animation
        overflow: hidden
        background-repeat: no-repeat
        background-position: left center
        height: $mobile-height
        animation-duration: 2s
        animation-timing-function: steps(31)
        animation-fill-mode: forwards
        +tablet
          transform: scale(0.65)
        +mobile
          height: 100%
          width: 100%
          opacity: 0.1
      #animation-1
        background-image: image-url('animations/animation-1.png')
        width: 592px
        +mobile
          +bg-image(contain, 'animations/illustration-1.png')
      #animation-2
        background-image: image-url('animations/animation-2.png')
        width: 591px
        +mobile
          +bg-image(contain, 'animations/illustration-2.png')
      #animation-3
        background-image: image-url('animations/animation-3.png')
        width: 549px
        +mobile
          +bg-image(contain, 'animations/illustration-3.png')
      #animation-4
        background-image: image-url('animations/animation-4.png')
        width: 388px
        +mobile
          +bg-image(contain, 'animations/illustration-4.png')
      #animation-5
        background-image: image-url('animations/animation-5.png')
        width: 571px
        +mobile
          +bg-image(contain, 'animations/illustration-5.png')
      #explanation-title
        display: inline-block
        +tablet
          padding-left: 20px
        .line
          +text-gradient(left, $secondary-color, $primary-color)
    #how
      background-image: linear-gradient(to right,$primary-color, $secondary-color)
      color: $white
      margin-top: $how-image-top-position
      padding: (2 * $how-image-top-position) 0 $how-image-top-position
      position: relative
      z-index: 1
      +tablet
        margin-top: $how-image-top-position / 2
        padding: $how-image-top-position 0
      +mobile
        padding: 20px 0
        margin-top: 0
      #how-image
        top: 0
        margin-left: - $how-image-top-position / 2
        position: absolute
        height: 348px
        width: 413px
        background-image: image-url('how-animation.png')
        animation-duration: 2s
        animation-timing-function: steps(32)
        animation-iteration-count: infinite
        opacity: 0
        transition: all 0.5s ease-in-out
        &.play
          top: - $how-image-top-position
          animation-name: playHowAnimation
          opacity: 1
        +tablet
          transform: scale(0.75)
          &.play
            top: - $how-image-top-position * 1.5
        +mobile
          +bg-image(contain, 'animations/illustration-how.png')
      #how-title
        text-align: center
        margin: 60px 0
        +tablet
          margin: 100px 0 40px
        +mobile
          margin: 20px 0
        span
          &:first-child
            color: tint($cyan, 75%)
          &:last-child
            color: $cyan
        strong
          color: tint($cyan, 40%)
      .item
        padding: 0 40px
        +mobile
          padding: 0
    #economy
      padding: 30px 0
      #economy-title
        +text-gradient(left, $secondary-color, $primary-color)
        display: inline-block
        padding-left: 20px
        +mobile
          padding: 0
          text-align: center
      .item
        padding: 0 20px
        +mobile
          padding: 0px
      #economy-animation
        position: relative
        height: 440px
        background-image: linear-gradient(to right,$orange, $secondary-color)
        +mobile
          height: 175px
        .bg-economy
          background-image: image-url('bg-economy.png')
          background-position: center
          position: absolute
          top: 0
          left: 0
          right: 0
          bottom: 0
          +mobile
            background-repeat: no-repeat
            background-size: cover
    #team
      position: relative
      background-color: $white
      .particles, .coins
        position: absolute
        top: 0
        bottom: 0
        right: 0
        left: 0
        pointer-events: none
        opacity: 0.85
        +mobile
          display: none
          opacity: 1
        +wide
          opacity: 1
      .particle, .coin
        position: absolute
      #team-particle-4
        left: 50%
        top: 20%
      #team-particle-3
        left: 40%
        top: 80%
      #team-coin-4
        left: 60%
        top: 10%
      #team-coin-3
        left: 30%
        top: 70%
      #team-coin-2
        left: 0%
        bottom: 30%
        +tablet
          display: none
      #team-coin-1
        right: 0%
        bottom: 10%
        +tablet
          display: none
      #team-title
        +text-gradient(left, $secondary-color, $primary-color)
        display: inline-block
        margin: 80px 0
        +mobile
          margin: 40px 0 20px
      .team-wrapper
        display: flex
        flex-wrap: wrap
        justify-content: space-around
        position: relative
        .member
          flex: 0 0 25%
          +mobile
            flex: 0 0 50%
    #contact
      background-image: linear-gradient(to right,$secondary-color, $orange)
      color: $white
      .melt
        height: 560px
        background-image: image-url('bg-melt.png')
        margin-top: -1px
        +tablet
          height: 250px
          background-size: contain
        +mobile
          height: 100px
          background-size: contain
      .container
        display: flex
        justify-content: center
        align-items: center
        padding: 20px 0 80px
        +wide
          padding: 50px 0 150px
        +tablet
          padding: 0px 0 70px
        +mobile
          padding: 30px 0 40px
      .logo
        text-align: center
        margin: 30px 0
        +tablet
          margin: 40px 0 20px
        +mobile
          margin: 20px 0
      .contact-links
        text-align: center
        a
          display: inline-block
          padding: 30px 5px
          +mobile
            padding: 5px
          .icon
            font-size: $font-size-xxxl * 2.5
            +text-gradient(left, $white, $white)
            +tablet
              font-size: $font-size-xxxl * 2
            +mobile
              font-size: $font-size-xxxl * 1.25
            +event
              +text-gradient(left, $yellow, $orange)
          .text
            color: $white

@keyframes layers-appear
  from
    top: 300px
    opacity: 0
  to
    top: 0
    opacity: 1

@keyframes playFirstAnimation
  0%
    background-position: left center
  100%
    background-position: -18352px center

@keyframes playSecondAnimation
  0%
    background-position: left center
  100%
    background-position: -18330px center

@keyframes playThirdAnimation
  0%
    background-position: left center
  100%
    background-position: -17019px center

@keyframes playFourthAnimation
  0%
    background-position: left center
  100%
    background-position: -12028px center

@keyframes playFifthAnimation
  0%
    background-position: left center
  100%
    background-position: -17701px center

@keyframes playHowAnimation
  0%
    background-position: left center
  100%
    background-position: -13216px center
